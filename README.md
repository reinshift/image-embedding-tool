# 图像嵌入工具 - 静态网页版本

这是一个纯前端的图像单应性变换工具，无需服务器即可运行。用户可以将一张图像透视变换后嵌入到另一张图像的指定区域。

## 功能特点

- ✅ **完全静态** - 无需服务器，可直接在浏览器中运行
- ✅ **纯JavaScript实现** - 使用Canvas API和数学计算实现单应性变换
- ✅ **用户友好** - 直观的三步式操作流程
- ✅ **响应式设计** - 支持桌面和移动设备
- ✅ **拖拽上传** - 支持拖拽文件上传
- ✅ **实时预览** - 即时查看处理结果
- ✅ **结果下载** - 可下载处理后的图像

## 使用方法

### 步骤1：选择图像
1. 上传背景图像（将要嵌入其他图像的底图）
2. 上传叠加图像（将要被嵌入的图像）
3. 点击"下一步"

### 步骤2：选择嵌入区域
1. 在背景图像上点击4个点，定义嵌入区域
2. 按顺时针方向从左上角开始选择点
3. 可以使用缩放控制来精确选择
4. 点击"应用嵌入"

### 步骤3：查看结果
1. 查看处理后的图像
2. 点击"下载结果"保存图像

## 技术实现

### 核心算法
- **单应性矩阵计算** - 使用DLT (Direct Linear Transform) 方法
- **透视变换** - 基于计算出的单应性矩阵进行像素映射
- **双线性插值** - 确保变换后图像的平滑性
- **四边形内点判断** - 使用叉积方法判断像素是否在目标区域内

### 文件结构
```
static_web_app/
├── index.html      # 主页面
├── style.css       # 样式文件
├── homography.js   # 单应性变换核心算法
├── main.js         # 用户界面交互逻辑
└── README.md       # 说明文档
```

## 浏览器兼容性

- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

## 部署方式

### 方式1：本地运行
1. 将所有文件放在同一个文件夹中
2. 双击打开 `index.html` 文件

### 方式2：Web服务器
1. 将文件夹上传到任何Web服务器
2. 访问 `index.html` 页面

### 方式3：GitHub Pages
1. 创建GitHub仓库
2. 上传所有文件
3. 启用GitHub Pages
4. 通过提供的URL访问

## 使用场景

- **广告设计** - 将产品图像嵌入到场景中
- **建筑可视化** - 将设计图嵌入到实际环境照片
- **教育演示** - 展示透视变换的效果
- **图像合成** - 创建逼真的图像合成效果

## 注意事项

1. **图像大小** - 建议使用中等大小的图像（1-5MB）以确保处理速度
2. **点选择精度** - 选择的4个点应该形成一个合理的四边形
3. **浏览器性能** - 大图像处理可能需要较长时间，请耐心等待

## 与原版本的区别

| 特性 | 静态网页版 | 原Flask版 | 原Electron版 |
|------|------------|-----------|---------------|
| 部署复杂度 | 极简 | 中等 | 复杂 |
| 服务器需求 | 无 | 需要 | 无 |
| 安装需求 | 无 | Python环境 | 系统安装 |
| 跨平台性 | 优秀 | 优秀 | 优秀 |
| 离线使用 | 支持 | 不支持 | 支持 |
| 文件大小 | 最小 | 中等 | 最大 |

## 开发说明

如果需要修改或扩展功能：

1. **修改界面** - 编辑 `index.html` 和 `style.css`
2. **调整算法** - 修改 `homography.js` 中的数学计算
3. **增加功能** - 在 `main.js` 中添加新的交互逻辑

## 许可证

本项目基于原Python项目改编，保持相同的开源许可证。
